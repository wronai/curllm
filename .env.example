#CURLLM_MODEL=qwen2.5:7b
#CURLLM_MODEL=qwen3:30b-a3b
#CURLLM_MODEL=llama3.2-vision:11b
#CURLLM_MODEL=starcoder2:15b
#CURLLM_MODEL=gemma3:12b
CURLLM_MODEL=qwen2.5:14b
CURLLM_OLLAMA_HOST=http://localhost:11434
CURLLM_API_HOST=http://localhost:8001
CURLLM_API_PORT=8001
CURLLM_BROWSERLESS=false
BROWSERLESS_URL=ws://localhost:3000
BROWSERLESS_PORT=3000
REDIS_PORT=6379
OLLAMA_PORT=11434
CURLLM_DEBUG=false
CURLLM_MAX_STEPS=20
CURLLM_SCREENSHOT_DIR=./screenshots
CURLLM_NUM_CTX=8192
CURLLM_NUM_PREDICT=512
CURLLM_TEMPERATURE=0.3
CURLLM_TOP_P=0.9
# LLM timeout w sekundach (domyślnie 300s = 5min)
# Dla słabszych modeli/GPU zwiększ do 600s, dla mocniejszych zmniejsz do 120s
CURLLM_LLM_TIMEOUT=300
CAPTCHA_API_KEY=
CURLLM_OLLAMA_PORT=11434
CURLLM_WORKSPACE=/home/tom/.cache/curllm/workspace
CURLLM_STORAGE_DIR=/home/tom/.cache/curllm/workspace/storage

# Runtime defaults (LLM planner and DOM snapshot)
# You can override these per-run via JSON params, but these are global defaults.
CURLLM_INCLUDE_DOM_HTML=true
CURLLM_DOM_MAX_CHARS=69000
CURLLM_DOM_MAX_CAP=70000
CURLLM_SMART_CLICK=true
CURLLM_ACTION_TIMEOUT_MS=25000
CURLLM_WAIT_AFTER_CLICK_MS=1800
CURLLM_WAIT_AFTER_NAV_MS=3000
CURLLM_NO_CLICK=false
CURLLM_SCROLL_LOAD=true
CURLLM_FASTPATH=false
# Hierarchical planner - dzieli komunikację z LLM na 3 poziomy (strategic -> tactical -> execution)
# Zmniejsza ilość danych w pojedynczym request z ~50KB do ~2KB+5KB
# Włączony domyślnie dla zadań typu "fill form"
CURLLM_HIERARCHICAL_PLANNER=true
# Próg automatycznej optymalizacji - jeśli page_context przekracza ten rozmiar (w znakach),
# używany jest hierarchical planner z 2-poziomowym zarysem JSON (bez szczegółów pól)
CURLLM_HIERARCHICAL_PLANNER_CHARS=25000
CURLLM_USE_EXTERNAL_SLIDER_SOLVER=true
CURLLM_STALL_LIMIT=9
CURLLM_PLANNER_GROWTH_PER_STEP=4000
CURLLM_PLANNER_MAX_CAP=70000
CURLLM_PLANNER_BASE_CHARS=65000

# Optional default runtime preset: deep_scan | fast_scan | max_dom
# If set, applies before per-request params.
CURLLM_RUNTIME_PRESET=deep_scan

# Enable LLM-based instruction refinement (uses page DOM preview and sample links)
# When true, the agent will try to rewrite the user's instruction into a more
# precise, deterministic variant before planning.
CURLLM_REFINE_INSTRUCTION=true
CURLLM_VALIDATION=true

# Run log preview size (characters of JSON shown in logs)
CURLLM_LOG_PREVIEW_CHARS=59000
CURLLM_LOG_PROMPT_CHARS=58000

CURLLM_STORE_RESULTS=false
CURLLM_RESULT_KEY=
# none|new|changed|delta|all
CURLLM_DIFF_MODE=none
CURLLM_DIFF_FIELDS=href,title,url
CURLLM_KEEP_HISTORY=10
CURLLM_INCLUDE_PREV_RESULTS=false

# Vision-based form analysis & honeypot detection
# Automatycznie aktywuje się z flagą --visual i vision-capable model (llava, minicpm-v, qwen2-vl)
# Wykrywa pola honeypot (ukryte w CSS, poza ekranem, zero dimensions)
# Priorytetyzuje pola według widoczności i wymagań
CURLLM_VISION_FORM_ANALYSIS=auto
CURLLM_VISION_MODEL=llava:13b
CURLLM_VISION_CONFIDENCE_THRESHOLD=0.7
CURLLM_VISION_DETECT_HONEYPOTS=true

# LLM-guided per-field form filling
# Zamiast wypełniać cały formularz na raz, LLM decyduje o wartości dla każdego pola osobno
# Redukcja token usage: ~70% (400 tokens/pole vs 5000+ dla całego formularza)
# Inteligentna walidacja: retry z feedback po każdym polu, learning from errors
# Hybrid approach: deterministic first (fast), fallback to LLM-guided (smart)
CURLLM_LLM_FIELD_FILLER_ENABLED=false
CURLLM_LLM_FIELD_MAX_ATTEMPTS=2
CURLLM_LLM_FIELD_TIMEOUT_MS=5000